{"version":3,"sources":["./src/app/tabs/stone-bag/stone-bag.page.html","./src/app/tabs/stone-bag/stone-bag-routing.module.ts","./src/app/tabs/stone-bag/stone-bag.module.ts","./src/app/tabs/stone-bag/stone-bag.page.scss","./src/app/tabs/stone-bag/stone-bag.page.ts"],"names":[],"mappings":"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","file":"stone-bag-stone-bag-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Mon sac de pierres</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid>\\n    <ion-row class=\\\"flex\\\">\\n      <div *ngFor=\\\"let stone of user?.user_stone\\\">\\n        <div>\\n          <ion-col size=\\\"6\\\">\\n            <!-- <ion-list> -->\\n            <!-- <div class=\\\"header\\\">\\n              <h2>{{ stone.title }}</h2>\\n            </div> -->\\n            <div class=\\\"border-color\\\">\\n              <div class=\\\"border-white\\\">\\n                <ion-avatar>\\n                  <img [src]=\\\"stone.photo.sizes['medium']\\\" [style.width]=\\\"'100%'\\\" *ngIf=\\\"stone.photo.sizes.medium\\\">\\n                </ion-avatar>\\n              </div>\\n            </div>\\n            <!-- </ion-list> -->\\n          </ion-col>\\n        </div>\\n      </div>\\n    </ion-row>\\n  </ion-grid>\\n  <div *ngIf=\\\"onCreate\\\">\\n    <form [formGroup]=\\\"stoneForm\\\" (ngSubmit)=\\\"validateCreateStone()\\\">\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">Title</ion-label>\\n        <ion-input formControlName=\\\"title\\\"></ion-input>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">Description</ion-label>\\n        <ion-input formControlName=\\\"description\\\"></ion-input>\\n      </ion-item>\\n\\n      <ion-item class=\\\"\\\">\\n        <ion-label position=\\\"\\\">Photo de la pierre</ion-label>\\n        <input formControlName=\\\"photoStone\\\">\\n      </ion-item>\\n\\n      <ion-item>\\n        <img [src]=\\\"photoStone\\\" style=\\\"width:60px; height:60px;\\\" />\\n      </ion-item>\\n\\n      <ion-button (click)=\\\"takePicture()\\\"></ion-button>\\n\\n      <!-- <img formControlName=\\\"photoStone\\\" (click)=\\\"takePicture()\\\" [src]=\\\"photoStone\\\" style=\\\"width:60px; height:60px;\\\" /> -->\\n      <!-- <ion-item>\\n        <ion-label position=\\\"floating\\\">Password</ion-label>\\n        <ion-input type=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\n      </ion-item> -->\\n\\n\\n\\n      <ion-button expand=\\\"full\\\" [disabled]=\\\"!stoneForm.valid || !this.photoStone\\\" type=\\\"submit\\\">\\n        Confirm</ion-button>\\n\\n\\n\\n\\n    </form>\\n  </div>\\n\\n\\n  <!-- fab placed to the bottom end -->\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" *ngIf=\\\"!onCreate\\\">\\n    <ion-fab-button color=\\\"danger\\\" (click)=\\\"createStone()\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { StoneBagPage } from './stone-bag.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StoneBagPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class StoneBagPageRoutingModule {}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\n\nimport { IonicModule } from \"@ionic/angular\";\n\nimport { StoneBagPageRoutingModule } from \"./stone-bag-routing.module\";\n\nimport { StoneBagPage } from \"./stone-bag.page\";\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFormsModule,\n\t\tIonicModule,\n\t\tStoneBagPageRoutingModule,\n\t\tReactiveFormsModule,\n\t],\n\tdeclarations: [StoneBagPage],\n})\nexport class StoneBagPageModule {}\n","export default \".header {\\n  background-color: var(--ion-color-primary-shade);\\n  height: 12rem;\\n  padding-top: 1px;\\n}\\n\\n.header h2 {\\n  color: white;\\n  font-weight: 500;\\n  text-align: center;\\n  margin-top: 3rem;\\n}\\n\\n.border-white {\\n  border: 4px solid white;\\n  border-radius: 50%;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n}\\n\\n.border-color {\\n  border: 7px solid var(--ion-color-primary);\\n  border-radius: 50%;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n}\\n\\n.flex {\\n  display: flex;\\n  justify-content: space-evenly;\\n}\\n\\nion-avatar {\\n  height: 6rem;\\n  width: 6rem;\\n}\\n\\n.hidden {\\n  display: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFicy9zdG9uZS1iYWcvRDpcXE1BTVBcXGh0ZG9jc1xcZ2l0a3Jha2VuXFxTdG9udXMvc3JjXFxhcHBcXHRhYnNcXHN0b25lLWJhZ1xcc3RvbmUtYmFnLnBhZ2Uuc2NzcyIsInNyYy9hcHAvdGFicy9zdG9uZS1iYWcvc3RvbmUtYmFnLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdEQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0FDQ0o7O0FERUE7RUFDSSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FDQ0o7O0FER0E7RUFDSSx1QkFBQTtFQUNBLGtCQUFBO0VBQ0EsMEJBQUE7RUFBQSx1QkFBQTtFQUFBLGtCQUFBO0FDQUo7O0FER0E7RUFDSSwwQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsMEJBQUE7RUFBQSx1QkFBQTtFQUFBLGtCQUFBO0FDQUo7O0FER0E7RUFDSSxhQUFBO0VBQ0EsNkJBQUE7QUNBSjs7QURNQTtFQUNJLFlBQUE7RUFDQSxXQUFBO0FDSEo7O0FETUE7RUFDSSxhQUFBO0FDSEoiLCJmaWxlIjoic3JjL2FwcC90YWJzL3N0b25lLWJhZy9zdG9uZS1iYWcucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmhlYWRlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeS1zaGFkZSk7XHJcbiAgICBoZWlnaHQ6IDEycmVtO1xyXG4gICAgcGFkZGluZy10b3A6IDFweDtcclxufVxyXG5cclxuLmhlYWRlciBoMiB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLXRvcDogM3JlbTtcclxuXHJcbn1cclxuXHJcbi5ib3JkZXItd2hpdGUge1xyXG4gICAgYm9yZGVyOiA0cHggc29saWQgd2hpdGU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XHJcbn1cclxuXHJcbi5ib3JkZXItY29sb3Ige1xyXG4gICAgYm9yZGVyOiA3cHggc29saWQgdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xyXG59XHJcblxyXG4uZmxleCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XHJcbiAgICAvL21hcmdpbi10b3A6IC02cmVtO1xyXG4gICAgLy9tYXJnaW4tcmlnaHQ6IDJweDtcclxuICAgIC8vd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbmlvbi1hdmF0YXIge1xyXG4gICAgaGVpZ2h0OiA2cmVtO1xyXG4gICAgd2lkdGg6IDZyZW07XHJcbn1cclxuXHJcbi5oaWRkZW4ge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxufSIsIi5oZWFkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeS1zaGFkZSk7XG4gIGhlaWdodDogMTJyZW07XG4gIHBhZGRpbmctdG9wOiAxcHg7XG59XG5cbi5oZWFkZXIgaDIge1xuICBjb2xvcjogd2hpdGU7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luLXRvcDogM3JlbTtcbn1cblxuLmJvcmRlci13aGl0ZSB7XG4gIGJvcmRlcjogNHB4IHNvbGlkIHdoaXRlO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIHdpZHRoOiBmaXQtY29udGVudDtcbn1cblxuLmJvcmRlci1jb2xvciB7XG4gIGJvcmRlcjogN3B4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICB3aWR0aDogZml0LWNvbnRlbnQ7XG59XG5cbi5mbGV4IHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XG59XG5cbmlvbi1hdmF0YXIge1xuICBoZWlnaHQ6IDZyZW07XG4gIHdpZHRoOiA2cmVtO1xufVxuXG4uaGlkZGVuIHtcbiAgZGlzcGxheTogbm9uZTtcbn0iXX0= */\";","import { Component, OnInit, Sanitizer } from \"@angular/core\";\nimport { SegmentChangeEventDetail } from \"@ionic/core\";\nimport { ApiService } from \"src/app/services/api.service\";\nimport {\n\tLoadingController,\n\tToastController,\n\tAlertController,\n} from \"@ionic/angular\";\nimport { Plugins, CameraResultType, CameraSource } from \"@capacitor/core\";\nconst { Camera } = Plugins;\n\nimport * as L from \"leaflet\";\n//import { antPath } from \"leaflet-ant-path\";\nimport \"leaflet/dist/images/marker-shadow.png\";\nimport \"leaflet/dist/images/marker-icon-2x.png\";\nimport { DomSanitizer } from \"@angular/platform-browser\";\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\n\n@Component({\n\tselector: \"app-stone-bag\",\n\ttemplateUrl: \"./stone-bag.page.html\",\n\tstyleUrls: [\"./stone-bag.page.scss\"],\n})\nexport class StoneBagPage implements OnInit {\n\t//Formulaire création Stone\n\tstoneForm: FormGroup;\n\tonCreate = false;\n\t//PHOTO\n\tphotoStone = null;\n\n\t//Map\n\tmap: L.Map;\n\tnewMarker: any;\n\taddress: string[];\n\n\tuser = null;\n\n\tconstructor(\n\t\tprivate api: ApiService,\n\t\tprivate loadingCtrl: LoadingController,\n\t\tprivate sanitizer: DomSanitizer,\n\t\tprivate fb: FormBuilder,\n\t\tprivate toastCtrl: ToastController,\n\t\tprivate alertCtrl: AlertController\n\t) {}\n\n\tngOnInit() {\n\t\tlet id = this.api.getUserId();\n\t\tthis.api.getUserContent(id).subscribe((res) => {\n\t\t\tconsole.log(\"user: \", res);\n\t\t\tthis.user = res;\n\t\t\tif (this.user.photo == null) {\n\t\t\t\tthis.user.photo = \"../assets/img/no-image.png\";\n\t\t\t} else {\n\t\t\t\t//this.user.photo = this.user.photo.sizes.medium;\n\t\t\t}\n\t\t});\n\t}\n\n\tionViewWillEnter() {\n\t\t//console.log(\"willEnter\");\n\t}\n\n\tionViewDidEnter() {\n\t\t//console.log(\"didEnter\");\n\t\t//console.log(this.map);\n\t}\n\n\tionViewWillLeave() {\n\t\t//console.log(\"willleave\");\n\t\t//console.log(this.map);\n\t}\n\n\t// ionViewDidLeave() {\n\t// \tthis.map.remove();\n\t// }\n\n\tasync takePicture() {\n\t\tconst image = await Camera.getPhoto({\n\t\t\tquality: 50,\n\t\t\tallowEditing: true,\n\t\t\tresultType: CameraResultType.Uri,\n\t\t\tsource: CameraSource.Camera,\n\t\t});\n\t\tconsole.log(\"image: \", image);\n\n\t\tthis.photoStone = this.sanitizer.bypassSecurityTrustResourceUrl(\n\t\t\timage && image.webPath\n\t\t);\n\t}\n\n\tcreateStone() {\n\t\tthis.onCreate = true;\n\t\tthis.stoneForm = this.fb.group({\n\t\t\ttitle: [\"\", Validators.required],\n\t\t\tdescription: \"\",\n\t\t\tphotoStone: \"\",\n\t\t});\n\t}\n\n\tvalidateCreateStone() {\n\t\tthis.onCreate = false;\n\n\t\tthis.api\n\t\t\t.validateCreateStone(\n\t\t\t\tthis.stoneForm.value.title,\n\t\t\t\tthis.stoneForm.value.description,\n\t\t\t\tthis.photoStone\n\t\t\t)\n\t\t\t.subscribe(\n\t\t\t\tasync (res) => {\n\t\t\t\t\tconst toast = await this.toastCtrl.create({\n\t\t\t\t\t\tmessage: res[\"message\"],\n\t\t\t\t\t\tduration: 3000,\n\t\t\t\t\t});\n\t\t\t\t\ttoast.present();\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\tthis.showError(err);\n\t\t\t\t}\n\t\t\t);\n\t}\n\n\tasync showError(err) {\n\t\tconst alert = await this.alertCtrl.create({\n\t\t\theader: err.error.code,\n\t\t\tsubHeader: err.error.data.status,\n\t\t\tmessage: err.error.message,\n\t\t\tbuttons: [\"OK\"],\n\t\t});\n\t\tawait alert.present();\n\t}\n}\n"],"sourceRoot":"webpack:///"}